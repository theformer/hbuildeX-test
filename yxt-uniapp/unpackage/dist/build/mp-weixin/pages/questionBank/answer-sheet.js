(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/questionBank/answer-sheet"],{"2de6":function(t,i,s){},"43e8":function(t,i,s){"use strict";(function(t){function s(t,i){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);i&&(e=e.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),s.push.apply(s,e)}return s}function e(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?s(Object(e),!0).forEach((function(i){n(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function n(t,i,s){return i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o={data:function(){return{currentType:0,currentSelfType:0,questionIndex:0,questionList:[],multipleChoice:[],judge:[],multiSelect:[],shortAnswer:[],nonDirectional:[],swiperHeight:"800px",activeDisabled:!1,answerSheet:!1,totalpoints:0,rightQuestionNumber:0,totalQuestionNumber:0,mistakeQuestionNumber:0,modalShow:!1,modalCard:null,dataList:[],subCourseId:"",total:"",questionJson:[],tkMsg:"",type:"",ids:[],itemId:"",isShow:"",questionLibIds:[],seeAnswer:"",current:"",analysis:[],seeOK:!0,isShowOk:!1,clear:!1,paperId:"",chapterId:""}},onReady:function(){var i=this;t.getSystemInfo({success:function(s){s.windowHeight,t.createSelectorQuery().select("#top-box").fields({size:!0,scrollOffset:!0},(function(s){s.height,t.createSelectorQuery().select("#foot-box").fields({size:!0,scrollOffset:!0},(function(t){i.getElementHeight(".swiper-item2")})).exec()})).exec()}})},methods:{getElementHeight:function(i){var s=this;setTimeout((function(){var e=t.createSelectorQuery().in(s);e.select(i).boundingClientRect(),e.exec((function(t){t?s.swiperHeight=t[0].height+"px":s.getElementHeight()}))}),20)},finishClick:function(i){this.itemId=this.ids[this.questionIndex],t.navigateTo({url:"user-feedback?type=1&itemId="+this.itemId,animationType:"pop-in",animationDuration:300})},cancelModal:function(i){this.modalShow=!1,t.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})},clickModal:function(t){this.modalShow=!1},clearClick:function(i){this.ids=JSON.stringify(this.ids),this.ids=this.ids.replace("[",""),this.ids=this.ids.replace("]",""),this.ids=this.ids.replace(/},{/g,"}<gx>{"),t.request({url:this.baseUrl+"/gxplatform/tk/wrongreview/delWrongReview",data:{questionLibIds:this.ids,subCourseId:this.subCourseId},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",Cookie:"JSESSIONID="+this.tkMsg},success:function(i){if(200==i.data.code)return t.showToast({icon:"none",title:i.data.message}),void setTimeout((function(){t.navigateBack({delta:1,animationType:"pop-out",animationDuration:200})}),2e3);t.showToast({icon:"none",title:i.data.message})}})},saveClick:function(i){var s=this;if(-1==this.questionList.findIndex((function(t){return""==t.userAnswer}))){if(this.paperId||this.chapterId)for(var e=0;e<this.questionList.length;e++)1==this.questionList[e].questionTypeId||2==this.questionList[e].questionTypeId||3==this.questionList[e].questionTypeId?this.dataList.push({id:this.questionList[e].id,obAnswer:this.questionList[e].userAnswer,subAnswer:""}):this.dataList.push({id:this.questionList[e].id,obAnswer:"",subAnswer:this.questionList[e].userAnswer});else for(var n=0;n<this.questionList.length;n++)1==this.questionList[n].questionTypeId||3==this.questionList[n].questionTypeId?this.dataList.push({id:this.questionList[n].id,obAnswer:this.questionList[n].userAnswer,subAnswer:""}):5==this.questionList[n].questionTypeId?this.dataList.push({id:this.questionList[n].id,obAnswer:"",subAnswer:this.questionList[n].userAnswer}):this.dataList.push({id:this.questionList[n].id,obAnswer:this.questionList[n].userAnswer,subAnswer:""});this.questionJson=JSON.stringify(this.dataList),this.questionJson=this.questionJson.substr(0,this.questionJson.length-1),this.questionJson=this.questionJson.substr(1,this.questionJson.length-1),this.questionJson=this.questionJson.replace(/},{/g,"}<gx>{"),this.paperId||this.chapterId?t.request({url:this.baseUrl+"/gxplatform/tk/examination/saveExamResult",data:{questionJson:this.questionJson,paperId:this.chapterId,subCourseId:this.subCourseId},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",Cookie:"JSESSIONID="+this.tkMsg},success:function(i){var e=JSON.parse(JSON.stringify(i.data.data));null!=e?(t.setStorageSync("question",s.questionJson),t.setStorageSync("handPaper",e),t.navigateTo({url:"handPaper?subCourseId="+s.subCourseId+"&type="+s.type,animationType:"pop-in",animationDuration:300})):t.showToast({icon:"none",title:i.data.message})}}):t.request({url:this.baseUrl+"/gxplatform/front/tk/handPaper",data:{questionJson:this.questionJson,type:this.type,subCourseId:this.subCourseId},method:"POST",header:{"content-type":"application/x-www-form-urlencoded",Cookie:"JSESSIONID="+this.tkMsg},success:function(i){var e=JSON.parse(JSON.stringify(i.data.data));null!=e?(t.setStorageSync("question",s.questionJson),t.setStorageSync("handPaper",e),t.navigateTo({url:"handPaper?subCourseId="+s.subCourseId+"&type="+s.type,animationType:"pop-in",animationDuration:300})):t.showToast({icon:"none",title:i.data.message})}})}else this.modalShow=!0},appointedQuestion:function(t){this.modalCard=null,this.questionIndex=t,this.answerSheet=!1},answerSheetClick:function(t){this.answerSheet=!0,this.modalCard=t.currentTarget.dataset.target},changeSwiper:function(t){var i=t.target.current;void 0!=i&&(this.questionIndex=i,this.paperId||this.chapterId?this.currentSelfType=this.questionList[i].questionTypeId:this.currentType=this.questionList[i].questionTypeId)},checkboxChange:function(t){var i=t.detail.value;this.questionList[this.questionIndex].userAnswer=i,null!==i&&(this.questionIndex===this.questionIndex?this.totalQuestionNumber=this.totalQuestionNumber-1:this.totalQuestionNumber=this.totalQuestionNumber)},radioboxChange:function(t){var i=t.detail.value;this.questionList[this.questionIndex].userAnswer=i,this.questionIndex<this.questionList.length-1&&(this.questionIndex+=1),null!==i&&(this.questionIndex==this.questionIndex?this.totalQuestionNumber=this.totalQuestionNumber-1:this.totalQuestionNumber=this.totalQuestionNumber)},textBlurClick:function(t){var i=t.detail.value;this.questionList[this.questionIndex].userAnswer=i,null!==i&&(this.questionIndex==this.questionIndex?this.totalQuestionNumber=this.totalQuestionNumber-1:this.totalQuestionNumber=this.totalQuestionNumber)}},onShow:function(){var i=this;if(this.tkMsg=this.$store.state.userInfo.tkMsg,this.paperId||this.chapterId)if(this.paperId&&!this.chapterId)t.request({url:this.baseUrl+"/gxplatform/tk/examination/getJDQuestionListByPaperId",data:{paperId:this.paperId},method:"GET",header:{"content-type":"application/x-www-form-urlencoded",Cookie:"JSESSIONID="+this.tkMsg},success:function(t){var s=JSON.parse(JSON.stringify(t.data.data));if(null!=s){i.questionList=s.questionList;for(var n=0;n<i.questionList.length;n++)i.questionList[n].userAnswer="",""!=i.questionList[n].a&&void 0!=i.questionList[n].a&&(i.questionList[n].a=i.questionList[n].a.replace(/<[^>]+>|&[^>]+;/g,"")),""!=i.questionList[n].b&&void 0!=i.questionList[n].b&&(i.questionList[n].b=i.questionList[n].b.replace(/<[^>]+>|&[^>]+;/g,"")),""!=i.questionList[n].c&&void 0!=i.questionList[n].c&&(i.questionList[n].c=i.questionList[n].c.replace(/<[^>]+>|&[^>]+;/g,"")),""!=i.questionList[n].d&&void 0!=i.questionList[n].d&&(i.questionList[n].d=i.questionList[n].d.replace(/<[^>]+>|&[^>]+;/g,"")),""!=i.questionList[n].e&&void 0!=i.questionList[n].e&&(i.questionList[n].e=i.questionList[n].e.replace(/<[^>]+>|&[^>]+;/g,"")),""!=i.questionList[n].f&&void 0!=i.questionList[n].f&&(i.questionList[n].f=i.questionList[n].f.replace(/<[^>]+>|&[^>]+;/g,"")),""!=i.questionList[n].g&&void 0!=i.questionList[n].g&&(i.questionList[n].g=i.questionList[n].g.replace(/<[^>]+>|&[^>]+;/g,"")),""!=i.questionList[n].questionTitle&&(i.questionList[n].questionTitle=i.questionList[n].questionTitle.replace(/<[^>]+>|&[^>]+;/g,"")),""!=i.questionList[n].analyzeWord&&void 0!=i.questionList[n].analyzeWord&&(i.questionList[n].analyzeWord=i.questionList[n].analyzeWord.replace(/<[^>]+>|&[^>]+;/g,""));i.total=i.questionList.length,i.totalQuestionNumber=i.questionList.length,i.currentSelfType=i.questionList[0].questionTypeId;for(var o=0;o<i.questionList.length;o++)i.ids.push(i.questionList[o].id),1==i.questionList[o].questionTypeId?i.multipleChoice.push({questionTitle:i.questionList[o].questionTitle}):2==i.questionList[o].questionTypeId?i.judge.push({questionTitle:i.questionList[o].questionTitle}):4==i.questionList[o].questionTypeId?i.shortAnswer.push({questionTitle:i.questionList[o].questionTitle}):i.multiSelect.push({questionTitle:i.questionList[o].questionTitle});if(i.analysis.length>0){i.questionList=i.questionList.map((function(t,s){return e(e({},t),i.analysis[s])}));for(var u=0;u<i.questionList.length;u++)i.questionList[u].userAnswer=i.questionList[u].examObAnswer,i.questionList[u].infoA=!1,i.questionList[u].infoB=!1,i.questionList[u].infoC=!1,i.questionList[u].infoD=!1,i.questionList[u].infoE=!1,void 0!=i.questionList[u].examObAnswer&&i.questionList[u].examObAnswer.indexOf("A")>-1&&(i.questionList[u].infoA=!0),void 0!=i.questionList[u].examObAnswer&&i.questionList[u].examObAnswer.indexOf("B")>-1&&(i.questionList[u].infoB=!0),void 0!=i.questionList[u].examObAnswer&&i.questionList[u].examObAnswer.indexOf("C")>-1&&(i.questionList[u].infoC=!0),void 0!=i.questionList[u].examObAnswer&&i.questionList[u].examObAnswer.indexOf("D")>-1&&(i.questionList[u].infoD=!0),void 0!=i.questionList[u].examObAnswer&&i.questionList[u].examObAnswer.indexOf("E")>-1&&(i.questionList[u].infoE=!0),i.questionList[u].examObAnswer.length>1&&(i.questionList[u].examObAnswer=i.questionList[u].examObAnswer.replace("[",""),i.questionList[u].examObAnswer=i.questionList[u].examObAnswer.replace("]",""),i.questionList[u].examObAnswer.indexOf("A")&&(i.questionList[u].examObAnswer=i.questionList[u].examObAnswer.replace('"A"',"A")),i.questionList[u].examObAnswer.indexOf("B")&&(i.questionList[u].examObAnswer=i.questionList[u].examObAnswer.replace('"B"',"B")),i.questionList[u].examObAnswer.indexOf("C")&&(i.questionList[u].examObAnswer=i.questionList[u].examObAnswer.replace('"C"',"C")),i.questionList[u].examObAnswer.indexOf("D")&&(i.questionList[u].examObAnswer=i.questionList[u].examObAnswer.replace('"D"',"D")))}}}});else{this.questionList=t.getStorageSync("topiclist");for(var s=0;s<this.questionList.length;s++)this.questionList[s].userAnswer="",""!=this.questionList[s].a&&void 0!=this.questionList[s].a&&(this.questionList[s].a=this.questionList[s].a.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[s].b&&void 0!=this.questionList[s].b&&(this.questionList[s].b=this.questionList[s].b.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[s].c&&void 0!=this.questionList[s].c&&(this.questionList[s].c=this.questionList[s].c.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[s].d&&void 0!=this.questionList[s].d&&(this.questionList[s].d=this.questionList[s].d.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[s].e&&void 0!=this.questionList[s].e&&(this.questionList[s].e=this.questionList[s].e.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[s].f&&void 0!=this.questionList[s].f&&(this.questionList[s].f=this.questionList[s].f.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[s].g&&void 0!=this.questionList[s].g&&(this.questionList[s].g=this.questionList[s].g.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[s].questionTitle&&(this.questionList[s].questionTitle=this.questionList[s].questionTitle.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[s].analyzeWord&&void 0!=this.questionList[s].analyzeWord&&(this.questionList[s].analyzeWord=this.questionList[s].analyzeWord.replace(/<[^>]+>|&[^>]+;/g,""));this.total=this.questionList.length,this.totalQuestionNumber=this.questionList.length,this.currentSelfType=this.questionList[0].questionTypeId;for(var n=0;n<this.questionList.length;n++)this.ids.push(this.questionList[n].id),1==this.questionList[n].questionTypeId?this.multipleChoice.push({questionTitle:this.questionList[n].questionTitle}):2==this.questionList[n].questionTypeId?this.judge.push({questionTitle:this.questionList[n].questionTitle}):4==this.questionList[n].questionTypeId?this.shortAnswer.push({questionTitle:this.questionList[n].questionTitle}):this.multiSelect.push({questionTitle:this.questionList[n].questionTitle});if(this.analysis.length>0){this.questionList=this.questionList.map((function(t,s){return e(e({},t),i.analysis[s])}));for(var o=0;o<this.questionList.length;o++)this.questionList[o].userAnswer=this.questionList[o].examObAnswer,this.questionList[o].infoA=!1,this.questionList[o].infoB=!1,this.questionList[o].infoC=!1,this.questionList[o].infoD=!1,this.questionList[o].infoE=!1,void 0!=this.questionList[o].examObAnswer&&this.questionList[o].examObAnswer.indexOf("A")>-1&&(this.questionList[o].infoA=!0),void 0!=this.questionList[o].examObAnswer&&this.questionList[o].examObAnswer.indexOf("B")>-1&&(this.questionList[o].infoB=!0),void 0!=this.questionList[o].examObAnswer&&this.questionList[o].examObAnswer.indexOf("C")>-1&&(this.questionList[o].infoC=!0),void 0!=this.questionList[o].examObAnswer&&this.questionList[o].examObAnswer.indexOf("D")>-1&&(this.questionList[o].infoD=!0),void 0!=this.questionList[o].examObAnswer&&this.questionList[o].examObAnswer.indexOf("E")>-1&&(this.questionList[o].infoE=!0),this.questionList[o].examObAnswer.length>1&&(this.questionList[o].examObAnswer=this.questionList[o].examObAnswer.replace("[",""),this.questionList[o].examObAnswer=this.questionList[o].examObAnswer.replace("]",""),this.questionList[o].examObAnswer.indexOf("A")&&(this.questionList[o].examObAnswer=this.questionList[o].examObAnswer.replace('"A"',"A")),this.questionList[o].examObAnswer.indexOf("B")&&(this.questionList[o].examObAnswer=this.questionList[o].examObAnswer.replace('"B"',"B")),this.questionList[o].examObAnswer.indexOf("C")&&(this.questionList[o].examObAnswer=this.questionList[o].examObAnswer.replace('"C"',"C")),this.questionList[o].examObAnswer.indexOf("D")&&(this.questionList[o].examObAnswer=this.questionList[o].examObAnswer.replace('"D"',"D")))}}else{this.questionList=t.getStorageSync("topiclist");for(var u=0;u<this.questionList.length;u++)this.questionList[u].userAnswer="",""!=this.questionList[u].a&&void 0!=this.questionList[u].a&&(this.questionList[u].a=this.questionList[u].a.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[u].b&&void 0!=this.questionList[u].b&&(this.questionList[u].b=this.questionList[u].b.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[u].c&&void 0!=this.questionList[u].c&&(this.questionList[u].c=this.questionList[u].c.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[u].d&&void 0!=this.questionList[u].d&&(this.questionList[u].d=this.questionList[u].d.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[u].e&&void 0!=this.questionList[u].e&&(this.questionList[u].e=this.questionList[u].e.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[u].f&&void 0!=this.questionList[u].f&&(this.questionList[u].f=this.questionList[u].f.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[u].g&&void 0!=this.questionList[u].g&&(this.questionList[u].g=this.questionList[u].g.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[u].questionTitle&&void 0!=this.questionList[u].questionTitle&&(this.questionList[u].questionTitle=this.questionList[u].questionTitle.replace(/<[^>]+>|&[^>]+;/g,"")),""!=this.questionList[u].analyzeWord&&void 0!=this.questionList[u].analyzeWord&&(this.questionList[u].analyzeWord=this.questionList[u].analyzeWord.replace(/<[^>]+>|&[^>]+;/g,""));this.total=this.questionList.length,this.totalQuestionNumber=this.questionList.length,this.currentType=this.questionList[0].questionTypeId;for(var a=0;a<this.questionList.length;a++)this.ids.push(this.questionList[a].id),1==this.questionList[a].questionTypeId?this.multipleChoice.push({questionTitle:this.questionList[a].questionTitle}):2==this.questionList[a].questionTypeId?this.multiSelect.push({questionTitle:this.questionList[a].questionTitle}):5==this.questionList[a].questionTypeId?this.shortAnswer.push({questionTitle:this.questionList[a].questionTitle}):3==this.questionList[a].questionTypeId?this.judge.push({questionTitle:this.questionList[a].questionTitle}):this.nonDirectional.push({questionTitle:this.questionList[a].questionTitle});if(this.analysis.length>0){this.questionList=this.questionList.map((function(t,s){return e(e({},t),i.analysis[s])}));for(var r=0;r<this.questionList.length;r++)this.questionList[r].userAnswer=this.questionList[r].examObAnswer,this.questionList[r].infoA=!1,this.questionList[r].infoB=!1,this.questionList[r].infoC=!1,this.questionList[r].infoD=!1,this.questionList[r].infoE=!1,void 0!=this.questionList[r].examObAnswer&&this.questionList[r].examObAnswer.indexOf("A")>-1&&(this.questionList[r].infoA=!0),void 0!=this.questionList[r].examObAnswer&&this.questionList[r].examObAnswer.indexOf("B")>-1&&(this.questionList[r].infoB=!0),void 0!=this.questionList[r].examObAnswer&&this.questionList[r].examObAnswer.indexOf("C")>-1&&(this.questionList[r].infoC=!0),void 0!=this.questionList[r].examObAnswer&&this.questionList[r].examObAnswer.indexOf("D")>-1&&(this.questionList[r].infoD=!0),void 0!=this.questionList[r].examObAnswer&&this.questionList[r].examObAnswer.indexOf("E")>-1&&(this.questionList[r].infoE=!0),this.questionList[r].examObAnswer.length>1&&(this.questionList[r].examObAnswer=this.questionList[r].examObAnswer.replace("[",""),this.questionList[r].examObAnswer=this.questionList[r].examObAnswer.replace("]",""),this.questionList[r].examObAnswer.indexOf("A")&&(this.questionList[r].examObAnswer=this.questionList[r].examObAnswer.replace('"A"',"A")),this.questionList[r].examObAnswer.indexOf("B")&&(this.questionList[r].examObAnswer=this.questionList[r].examObAnswer.replace('"B"',"B")),this.questionList[r].examObAnswer.indexOf("C")&&(this.questionList[r].examObAnswer=this.questionList[r].examObAnswer.replace('"C"',"C")),this.questionList[r].examObAnswer.indexOf("D")&&(this.questionList[r].examObAnswer=this.questionList[r].examObAnswer.replace('"D"',"D")))}}},onLoad:function(i){this.subCourseId=i.subCourseId,this.type=i.type,this.seeAnswer=i.seeAnswer,this.isShow=i.isShow,this.paperId=i.paperId,this.chapterId=i.chapterId,void 0!=this.isShow&&""!=this.isShow||(this.isShow=0),void 0!=this.seeAnswer&&""!=this.seeAnswer||(this.seeAnswer=0),1==this.isShow&&(this.isShowOk=!0,this.seeOK=!1,this.activeDisabled=!0,this.clear=!0,console.log(this.isShow,this.seeAnswer,!this.clear)),1==this.seeAnswer&&(this.activeDisabled=!0,this.seeOK=!1,this.isShowOk=!0,this.clear=!0,this.analysis=t.getStorageSync("analysis"))}};i.default=o}).call(this,s("543d")["default"])},4416:function(t,i,s){"use strict";s.d(i,"b",(function(){return n})),s.d(i,"c",(function(){return o})),s.d(i,"a",(function(){return e}));var e={uPopup:function(){return s.e("node-modules/uview-ui/components/u-popup/u-popup").then(s.bind(null,"efe2"))},uModal:function(){return s.e("node-modules/uview-ui/components/u-modal/u-modal").then(s.bind(null,"14ef"))}},n=function(){var t=this,i=t.$createElement;t._self._c},o=[]},"482b":function(t,i,s){"use strict";s.r(i);var e=s("43e8"),n=s.n(e);for(var o in e)"default"!==o&&function(t){s.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},4887:function(t,i,s){"use strict";(function(t){s("d5a6");e(s("66fd"));var i=e(s("db1a"));function e(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,s("543d")["createPage"])},a744:function(t,i,s){"use strict";var e=s("2de6"),n=s.n(e);n.a},db1a:function(t,i,s){"use strict";s.r(i);var e=s("4416"),n=s("482b");for(var o in n)"default"!==o&&function(t){s.d(i,t,(function(){return n[t]}))}(o);s("a744");var u,a=s("f0c5"),r=Object(a["a"])(n["default"],e["b"],e["c"],!1,null,"5adc15da",null,!1,e["a"],u);i["default"]=r.exports}},[["4887","common/runtime","common/vendor"]]]);